<div class="w-full relative">
  <div class="w-full flex items-center cursor-pointer h-14 bg-default-white-primary px-5 rounded-md justify-between text-lg shadow-lg transition-transform duration-700 ease-linear border border-default-blue-primary dark:bg-dark-black-background-select dark:border-none" (click)="toggleDropdown()">
    <div class="w-7 h-7">
      <svg class="w-7 h-7 fill-default-blue-primary dark:fill-dark-gray-extra" viewBox="0 0 24 24">
        <path
          d="M16.19 2H7.81C4.17 2 2 4.17 2 7.81V16.18C2 19.83 4.17 22 7.81 22H16.18C19.82 22 21.99 19.83 21.99 16.19V7.81C22 4.17 19.83 2 16.19 2ZM11.5 17.25C11.5 17.61 11.14 17.85 10.81 17.71C9.6 17.19 8.02 16.71 6.92 16.57L6.73 16.55C6.12 16.47 5.62 15.9 5.62 15.28V7.58C5.62 6.81 6.24 6.24 7 6.3C8.25 6.4 10.1 7 11.26 7.66C11.42 7.75 11.5 7.92 11.5 8.09V17.25ZM18.38 15.27C18.38 15.89 17.88 16.46 17.27 16.54L17.06 16.56C15.97 16.71 14.4 17.18 13.19 17.69C12.86 17.83 12.5 17.59 12.5 17.23V8.08C12.5 7.9 12.59 7.73 12.75 7.64C13.91 6.99 15.72 6.41 16.95 6.3H16.99C17.76 6.3 18.38 6.92 18.38 7.69V15.27Z"
        />
      </svg>
    </div>
    <div class="w-full text-black dark:text-dark-gray-extra">
      <span class="px-4">{{ selectedItem || 'Seleccione una opcion' }}</span>
    </div>
    <svg class="w-6 h-6 fill-default-hellow-primary transition-all duration-300" [ngClass]="{'-rotate-180': dropdownOpen }" viewBox="0 0 24 24">
      <path
        d="M17.9188 8.17969H11.6888H6.07877C5.11877 8.17969 4.63877 9.33969 5.31877 10.0197L10.4988 15.1997C11.3288 16.0297 12.6788 16.0297 13.5088 15.1997L15.4788 13.2297L18.6888 10.0197C19.3588 9.33969 18.8788 8.17969 17.9188 8.17969Z"
      />
    </svg>
  </div>
  <div class="w-full absolute p-5 mt-3 rounded-lg shadow-2xl z-10 bg-default-white-primary" [ngStyle]="{ 'display': dropdownOpen ? 'block' : 'none' }" [class.active]="dropdownOpen">
    <div class="w-full pb-3 relative">
      <input class="w-full relative pl-[50px] py-[14px] rounded-lg border-gray-300" spellcheck="false" type="text" placeholder="Buscar" [(ngModel)]="searchKeyword" (keyup)="filterCountries()"
      />
      <svg class="w-7 h-7 absolute left-3 top-[13px] fill-gray-300" viewBox="0 0 24 24">
        <path
          d="M11.01 20.02C15.9861 20.02 20.02 15.9861 20.02 11.01C20.02 6.03391 15.9861 2 11.01 2C6.03391 2 2 6.03391 2 11.01C2 15.9861 6.03391 20.02 11.01 20.02Z"
        />
        <path
          d="M21.9901 18.95C21.6601 18.34 20.9601 18 20.0201 18C19.3101 18 18.7001 18.29 18.3401 18.79C17.9801 19.29 17.9001 19.96 18.1201 20.63C18.5501 21.93 19.3001 22.22 19.7101 22.27C19.7701 22.28 19.8301 22.28 19.9001 22.28C20.3401 22.28 21.0201 22.09 21.6801 21.1C22.2101 20.33 22.3101 19.56 21.9901 18.95Z"
        />
      </svg>
    </div>
    <ul class="max-h-[344px] overflow-scroll">
      <li
        class="flex items-center cursor-pointer h-12 px-3 text-lg rounded-md text-default-blue-primary hover:bg-slate-100" (click)="updateselectedItem('Seleccione una opción')">
        Seleccione una opción
      </li>
      <li
        class="flex items-center cursor-pointer h-12 px-3 text-lg rounded-md text-default-blue-primary hover:bg-slate-100"
        *ngFor="let country of filteredCountries"
        (click)="updateselectedItem(country)"
        [class.selected]="country === selectedItem">
        {{ country }}
      </li>
    </ul>
  </div>
</div>
